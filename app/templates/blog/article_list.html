{% extends "blog/base.html" %}
{% block title %}Onekki Blog{% endblock %}
{% block body %}
    <div class="row">
        <div class="col-lg-9">
            <!-- 分页 -->
            {% for article in article_list.items %}
                <div class="row">
                    <div class="col-lg-12">
                        <h2>{{ article.title }}</h2>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        {{ article.content|truncate(255)|safe}}
                        <a href="{{ url_for('blog.article', id=article.id) }}">Read More</a>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="col-lg-3">
            <div class="row">
                <h5>Recent Articles</h5>
                <ul>
                    {% for article in recent_article_list %}
                        <li>{{ article.title }}</li>
                        <li><a href="{{ url_for('blog.article', id=article.id) }}">{{ article.title }}</a></li>
                    {% endfor %}
                </ul>
            </div>
            <div class="row">
                <h5>Popular Tags</h5>
                <ul>
                    {% for tag in top_tag_list %}
                        <li><a href="{{ url_for('blog.article_list', page=1, tag_id=tag[0]) }}">{{ tag }}</a></li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
    <div class="row">
        <!-- 调用父模版的 macro render_pagination -->
        {{ render_pagination('blog.article_list', article_list, tag_id) }}
    </div>
{% endblock %}

